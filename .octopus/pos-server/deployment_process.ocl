step "back-up-store-client-filesystem" {
    name = "Back up store client filesystem"
    properties = {
        Octopus.Action.TargetRoles = "pos-client"
    }

    action {
        action_type = "Octopus.Script"
        properties = {
            Octopus.Action.Script.ScriptBody = <<-EOT
                Write-Highlight "Backing up store client filesystem"
                
                Start-Sleep 5
                
                Write-Highlight "Finished backing up store client filesystem"
            EOT
            Octopus.Action.Script.ScriptSource = "Inline"
            Octopus.Action.Script.Syntax = "PowerShell"
        }
        worker_pool = "hosted-ubuntu"
    }
}

step "upgrade-store-client-software" {
    name = "Upgrade store client software"
    properties = {
        Octopus.Action.TargetRoles = "pos-client"
    }

    action {
        action_type = "Octopus.Script"
        properties = {
            Octopus.Action.Script.ScriptBody = <<-EOT
                Write-Highlight "Upgrading store client software"
                
                Start-Sleep 5
                
                Write-Highlight "Finished upgrading store client software"
            EOT
            Octopus.Action.Script.ScriptSource = "Inline"
            Octopus.Action.Script.Syntax = "PowerShell"
        }
        worker_pool = "hosted-ubuntu"
    }
}